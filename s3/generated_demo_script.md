<!--
Copyright 2025 Ameenah Burhan (aburhan)

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

# **Demo Script: Migrating from AWS S3 to Google Cloud Storage**

**Objective**: To demonstrate how to seamlessly migrate data from Amazon S3 to Google Cloud Storage using Google's Storage Transfer Service, highlighting the ease of setup, security, and control.

**Duration**: 10-15 minutes

**Audience**: Cloud administrators, engineers, and decision-makers evaluating multi-cloud strategies or planning a migration from AWS to Google Cloud.

**Prerequisites for the Presenter**:

* An active Google Cloud Project with billing enabled.  
* An AWS account with an S3 bucket containing sample data.  
* Permissions to create IAM roles in AWS and manage [Storage Transfer Service](https://cloud.google.com/storage-transfer/docs/overview) in GCP.

---

### **Introduction (1 minute)**

" \[Opener\]  
 Today I’ll walk you through how we can move data from Amazon S3 to Google Cloud Storage. We’ll use Google’s migration tools [Storage Transfer Service](https://cloud.google.com/storage-transfer/docs/overview) to handle the transfer, The goal is to show how straightforward it is to get your data into Cloud Storage and how that move sets you up for easier management and faster insights across your environment."

---

### **Section 1: Setting Up the Secure Connection (5 minutes)**

"First things first, we need to establish a secure handshake between Google Cloud and AWS. We're not going to pass around secret keys. Instead, we'll use a much more secure and standard approach: identity federation."

| Action                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ... [truncated]

- "I'll paste in a JSON policy. This policy does two things: it specifies the 'Federated' principal as 'accounts.google.com', and it uses a condition to check the 'subject ID' from Google Cloud. This ensures that only *my* specific Google Cloud project can use this role, not just any Google Cloud project."  
- "To get that subject ID, I'll switch over to the Google Cloud documentation for the Storage Transfer Service API. There's a 'Try this method' panel that lets me run an API call to get my project's unique service account identity. I'll put in my project ID, execute it, and there's the `subjectId` in the response. I'll copy that."  
- "Back in AWS, I'll replace the placeholder in my trust policy with the actual `subjectId`. Now this policy is locked down to my project."  
- "Next, I'll attach the `AmazonS3ReadOnlyAccess` policy. We're following the principle of least privilege here—the transfer service only needs to read the data, so we're not giving it any write or delete permissions."  
- "I'll name the role `nextwork-data-transfer-gcp-role` and create it. Now we have a secure way for GCP to talk to S3. I'll copy the ARN for this role, we'll need it in a second."

| Presenter Narrative                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           ... [truncated]

- "I'll paste in a JSON policy. This policy does two things: it specifies the 'Federated' principal as 'accounts.google.com', and it uses a condition to check the 'subject ID' from Google Cloud. This ensures that only *my* specific Google Cloud project can use this role, not just any Google Cloud project."  
- "To get that subject ID, I'll switch over to the Google Cloud documentation for the Storage Transfer Service API. There's a 'Try this method' panel that lets me run an API call to get my project's unique service account identity. I'll put in my project ID, execute it, and there's the `subjectId` in the response. I'll copy that."  
- "Back in AWS, I'll replace the placeholder in my trust policy with the actual `subjectId`. Now this policy is locked down to my project."  
- "Next, I'll attach the `AmazonS3ReadOnlyAccess` policy. We're following the principle of least privilege here—the transfer service only needs to read the data, so we're not giving it any write or delete permissions."  
- "I'll name the role `nextwork-data-transfer-gcp-role` and create it. Now we have a secure way for GCP to talk to S3. I'll copy the ARN for this role, we'll need it in a second."

| Key Talking Point                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             ... [truncated]

- "The principle of least privilege is also critical. Granting only `ReadOnly` access minimizes our risk. If something were misconfigured, the service simply can't delete or alter our source data in S3. This is a fundamental concept for building resilient and secure cloud architectures."

---

### **Section 2: Creating and Running the Transfer Job (5 minutes)**

"Alright, with the trust relationship established, we can now set up the actual transfer job in Google Cloud. This is where we define the what, where, and when of our data migration."

| Action                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ... [truncated]

- "For the source, I'm selecting 'Amazon S3 bucket' and I'll paste in the name of my S3 bucket. Then, I'll paste the IAM Role ARN we just created in the credentials field. This tells the service to use our federated identity role."  
- "For the destination, I'll select a Google Cloud Storage bucket. I've already created one called `nextwork-data-transfer-destination-gcp-`, but you can create a new one right from this interface. I'll just point to the job there."  
- "Next, we will configure the schedule. For this demo, I'll choose 'Run once' and 'Starting now' for a simple batch transfer. You could also set up a recurring schedule or even an event-driven transfer that syncs data in real-time."  
- "I'll give the job a quick description and review the settings. There are a lot of powerful options here for filtering, handling metadata, and controlling overwrite behavior, but for a straightforward migration, the defaults are perfect. I'll click 'Create'."

| Presenter Narrative                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           ... [truncated]

- "For the source, I'm selecting 'Amazon S3 bucket' and I'll paste in the name of my S3 bucket. Then, I'll paste the IAM Role ARN we just created in the credentials field. This tells the service to use our federated identity role."  
- "For the destination, I'll select a Google Cloud Storage bucket. I've already created one called `nextwork-data-transfer-destination-gcp-`, but you can create a new one right from this interface. I'll just point the job there."  
- "Next, we configure the schedule. For this demo, I'll choose 'Run once' and 'Starting now' for a simple batch transfer. You could also set up a recurring schedule or even an event-driven transfer that syncs data in real-time."  
- "I'll give the job a quick description and review the settings. There are a lot of powerful options here for filtering, handling metadata, and controlling overwrite behavior, but for a straightforward migration, the defaults are perfect. I'll click 'Create'."

| Key Talking Point                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             ... [truncated]

- "The service is also highly flexible. While we're doing a simple batch transfer, the ability to schedule transfers or trigger them based on events in the source bucket is incredibly powerful. You can use it for continuous replication, disaster recovery scenarios, or to feed data into a real-time analytics pipeline in Google Cloud."

---

### **Section 3: Verifying the Transfer and Cleanup (3 minutes)**

"Now that the job is created, it will start running immediately. We can monitor its progress right here in the console and then verify that our data has arrived safely in Google Cloud Storage."

| Action                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ... [truncated]

- "And... it's done\! The status is now 'Success'. Let's go check our Google Cloud Storage bucket to make sure the files are there."  
- "I'll navigate to Cloud Storage in the GCP console and open up my destination bucket. And there they are\! All the files from my S3 bucket have been copied over."  
- "Finally, and this is a crucial step, let's clean up our resources. I'll delete the transfer job in GCP, delete the GCS bucket, and then go back to AWS to delete the IAM role and the S3 bucket. This prevents any lingering resources from incurring costs."

| Presenter Narrative                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           ... [truncated]

- "And... it's done\! The status is now 'Success'. Let's go check our Google Cloud Storage bucket to make sure the files are there."  
- "I'll navigate to Cloud Storage in the GCP console and open up my destination bucket. And there they are\! All the files from my S3 bucket have been copied over."  
- "Finally, and this is a crucial step, let's clean up our resources. I'll delete the transfer job in GCP, delete the GCS bucket, and then go back to AWS to delete the IAM role and the S3 bucket. This prevents any lingering resources from incurring costs."

| Key Talking Point                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             ... [truncated]

- "And that's a wrap on cleanup. In a real project, you'd automate this with scripts, but for a demo, doing it manually shows exactly what's happening. It reinforces the ephemeral nature of these resources—we spin them up, use them, and tear them down."

---

### **Conclusion (1 minute)**

"So, what did we just see? We successfully migrated data from an AWS S3 bucket to Google Cloud Storage, and we did it without writing any complex code or managing any transfer infrastructure. We used identity federation to establish a secure, temporary trust relationship between the two clouds, following security best practices."

"This shows that moving data between clouds doesn't have to be a daunting task. With the right tools, you can perform these migrations securely, efficiently, and with a high degree of control. Whether you're doing a one-time migration or setting up a continuous data sync, Google's Storage Transfer Service provides a powerful and flexible solution for your multi-cloud needs."

"Thanks for watching\!"